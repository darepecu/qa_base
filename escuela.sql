-- MySQL Script generated by MySQL Workbench
-- mié 31 ene 2018 12:02:13 -05
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering


 DROP SCHEMA testdb;

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema testdb
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema testdb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `testdb` DEFAULT CHARACTER SET utf8 ;
USE `testdb` ;

-- -----------------------------------------------------
-- Table `testdb`.`ALUMNO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `testdb`.`ALUMNO` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `NOMBRE` VARCHAR(45) NULL,
  `APELLIDO_PATERNO` VARCHAR(45) NULL,
  `CODIGO` VARCHAR(45) NULL,
  `SEXO` VARCHAR(45) NULL,
  `GRADO` VARCHAR(45) NULL,
  `DIRECCION` VARCHAR(45) NULL,
  `DNI` VARCHAR(45) NULL,
  `APELLIDO_MATERNO` VARCHAR(45) NULL,
  PRIMARY KEY (`ID`),
  UNIQUE INDEX `DNI_UNIQUE` (`DNI` ASC),
  UNIQUE INDEX `CODIGO_UNIQUE` (`CODIGO` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `testdb`.`DOCENTE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `testdb`.`DOCENTE` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `NOMBRE` VARCHAR(45) NULL,
  `APELLIDO_PATERNO` VARCHAR(45) NULL,
  `APELLIDO_MATERNO` VARCHAR(45) NULL,
  `CODIGO` VARCHAR(45) NULL,
  `DNI` VARCHAR(45) NULL,
  PRIMARY KEY (`ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `testdb`.`CURSO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `testdb`.`CURSO` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `NOMBRE` VARCHAR(45) NULL,
  `CODIGO` VARCHAR(45) NULL,
  `DESCRIPCION` VARCHAR(45) NULL,
  `DOCENTE_ID` INT NOT NULL,
  PRIMARY KEY (`ID`, `DOCENTE_ID`),
  UNIQUE INDEX `CODIGO_UNIQUE` (`CODIGO` ASC),
  INDEX `fk_CURSO_DOCENTE_idx` (`DOCENTE_ID` ASC),
  CONSTRAINT `fk_CURSO_DOCENTE`
    FOREIGN KEY (`DOCENTE_ID`)
    REFERENCES `testdb`.`DOCENTE` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `testdb`.`ALUMNO_CURSO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `testdb`.`ALUMNO_CURSO` (
  `ALUMNO_ID` INT NOT NULL,
  `CURSO_ID` INT NOT NULL,
  INDEX `fk_ALUMNO_has_CURSO_CURSO1_idx` (`CURSO_ID` ASC),
  INDEX `fk_ALUMNO_has_CURSO_ALUMNO1_idx` (`ALUMNO_ID` ASC),
  CONSTRAINT `fk_ALUMNO_has_CURSO_ALUMNO1`
    FOREIGN KEY (`ALUMNO_ID`)
    REFERENCES `testdb`.`ALUMNO` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ALUMNO_has_CURSO_CURSO1`
    FOREIGN KEY (`CURSO_ID`)
    REFERENCES `testdb`.`CURSO` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;



USE testdb;

INSERT INTO ALUMNO (NOMBRE,APELLIDO_PATERNO,APELLIDO_MATERNO,CODIGO,SEXO,DIRECCION,DNI,GRADO)
VALUES('ANDRES','HURTADO','CHIBOLIN','A102','N/S', 'AV MARICUECA 123', '08933328','NINGUNO');

INSERT INTO ALUMNO (NOMBRE,APELLIDO_PATERNO,APELLIDO_MATERNO,CODIGO,SEXO,DIRECCION,DNI,GRADO)
VALUES('JOSÉ MARÍA','ARGUEDAS','DABOLI','A103','HOMBRE', 'AV POLVORIENTO 123', '08933329','QUIÉN SABE');

INSERT INTO DOCENTE (NOMBRE,APELLIDO_PATERNO,APELLIDO_MATERNO,CODIGO,DNI)
VALUES('RAÚL','PARMÚA','LACHERRE','D101','41281477');

INSERT INTO DOCENTE (NOMBRE,APELLIDO_PATERNO,APELLIDO_MATERNO,CODIGO,DNI)
VALUES('IVAN','CRUZ','VALLE','D102','49781449');

INSERT INTO CURSO (NOMBRE,CODIGO,DESCRIPCION,DOCENTE_ID)
VALUES ('CIENCIAS OCULTAS','C001','ENCANTAMIENTOS TIPO PATRONUS LEVEL INTERMEDIO',1);

INSERT INTO CURSO (NOMBRE,CODIGO,DESCRIPCION,DOCENTE_ID)
VALUES ('CORTE Y CONFECCIÓN','C002','CORTES Y FINAS HIERBAS',2);

INSERT INTO ALUMNO_CURSO(ALUMNO_ID,CURSO_ID)
VALUES(1,1);
INSERT INTO ALUMNO_CURSO(ALUMNO_ID,CURSO_ID)
VALUES(1,2);
INSERT INTO ALUMNO_CURSO(ALUMNO_ID,CURSO_ID)
VALUES(2,1);
INSERT INTO ALUMNO_CURSO(ALUMNO_ID,CURSO_ID)
VALUES(2,2);



SELECT * FROM ALUMNO;
SELECT * FROM DOCENTE;
SELECT * FROM CURSO;
SELECT * FROM ALUMNO_CURSO;